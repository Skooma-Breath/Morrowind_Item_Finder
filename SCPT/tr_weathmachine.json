{
  "deleted": false,
  "SCHD": {
    "num_shorts": 7,
    "num_longs": 0,
    "num_floats": 3,
    "script_data_size": 1658,
    "local_var_size": 81
  },
  "SCTX": "begin tr_weathmachine\r\n\r\n;MournWeather Global Key\r\n;0 - Normal\r\n;1 - Clear\r\n;2 - Cloudy\r\n;3 - Foggy\r\n;4 - Overcast\r\n;5 - Rainy\r\n;6 - Thunderstorm\r\n;7 - Ashstorm\r\n\r\nshort initialized\r\nshort crankReset\t\t;this is set from the levers, and when 1 will select a new weather\r\nshort crankA\r\nshort crankB\r\nshort crankC\r\n\r\nshort move\t\t\t\t;true when sign should move\r\nshort clamp\r\n\r\nfloat startangle\t\t\t;the angle from last crank\r\nfloat angle\t\t\t\t;the angle the weather sign should rotate to\r\nfloat curangle\t\t\t; current angle / amount to move while moving\r\n\r\nif ( initialized == 0 )\r\n\tset startangle to 280\r\n\tset angle to startangle\r\n\tset initialized to 1\r\nendif\r\n\r\nif ( MenuMode == 1 )\r\n\treturn\r\nendif\r\n\r\nset crankA to \"act_dwe_lever_a\".state\r\nset crankB to \"act_dwe_lever_b\".state\r\nset crankC to \"act_dwe_lever_c\".state\r\n\r\nif ( crankReset == 1 )\r\n\tplaysound \"thunder0\"\r\n\tset startangle to GetAngle Z\r\n\tif ( crankA == 0 )\r\n\t\tif ( crankB == 0 )\r\n\t\t\tif ( crankC == 0 )\r\n\t\t\t\tModRegion \"Mournhold Region\" 15 30 15 20 10 10 0 0\r\n\t\t\t\tChangeWeather \"Mournhold Region\" 1\r\n\t\t\t\tset angle to 280\r\n\t\t\t\t;;MessageBox \"WEATHER SHOULD NOW BE NORMAL\"\r\n\t\t\t\tset MournWeather to 0\r\n\t\t\t\tset crankReset to 0\r\n\t\t\telseif ( crankC == 1 )\r\n\t\t\t\tModRegion \"Mournhold Region\" 100 0 0 0 0 0 0 0\r\n\t\t\t\tChangeWeather \"Mournhold Region\" 0\r\n\t\t\t\tset angle to 80\r\n\t\t\t\t;;MessageBox \"WEATHER SHOULD NOW BE CLEAR\"\r\n\t\t\t\tset MournWeather to 1\r\n\t\t\t\tset crankReset to 0\r\n\t\t\tendif\r\n\t\telseif ( crankB == 1 )\r\n\t\t\tif ( crankC == 0 )\r\n\t\t\t\tModRegion \"Mournhold Region\" 0 0 0 0 0 100 0 0\r\n\t\t\t\tChangeWeather \"Mournhold Region\" 5\r\n\t\t\t\t\tset angle to 300\r\n\t\t\t\t;;MessageBox \"WEATHER SHOULD NOW BE THUNDERSTORM\" \r\n\t\t\t\tset MournWeather to 6\r\n\t\t\t\tset crankReset to 0\r\n\t\t\telseif ( crankC == 1 )\r\n\t\t\t\tModRegion \"Mournhold Region\" 0 100 0 0 0 0 0 0\r\n\t\t\t\tChangeWeather \"Mournhold Region\" 1\r\n\t\t\t\tset angle to 320\r\n\t\t\t\t;;MessageBox \"WEATHER SHOULD NOW BE CLOUDY\"\r\n\t\t\t\tset MournWeather to 2\r\n\t\t\t\tset crankReset to 0\r\n\t\t\tendif\r\n\t\tendif\r\n\telseif ( crankA == 1 ) \r\n\t\tif ( crankB == 0 )\r\n\t\t\tif ( crankC == 0 )\r\n\t\t\t\tModRegion \"Mournhold Region\" 0 0 0 0 0 0 100 0\r\n\t\t\t\tChangeWeather \"Mournhold Region\" 6\r\n\t\t\t\t;;MessageBox \"WEATHER SHOULD NOW BE ASHSTORM\"\r\n\t\t\t\tset MournWeather to 7\r\n\t\t\t\tJournal TR_ShowPower 95\r\n\t\t\t\tset angle to 0\r\n\t\t\t\tset crankReset to 0\r\n\t\t\telseif ( crankC == 1 )\r\n\t\t\t\tModRegion \"Mournhold Region\" 0 0 100 0 0 0 0 0\r\n\t\t\t\tChangeWeather \"Mournhold Region\" 2\r\n\t\t\t\tset angle to 20\r\n\t\t\t\t;;MessageBox \"WEATHER SHOULD NOW BE FOGGY\"\r\n\t\t\t\tset MournWeather to 3\r\n\t\t\t\tset crankReset to 0\r\n\t\t\tendif\r\n\t\telseif ( crankB == 1 )\r\n\t\t\tif ( crankC == 0 )\r\n\t\t\t\tModRegion \"Mournhold Region\" 0 0 0 0 100 0 0 0\r\n\t\t\t\tChangeWeather \"Mournhold Region\" 4\r\n\t\t\t\tset angle to 40\r\n\t\t\t\t;;MessageBox \"WEATHER SHOULD NOW BE RAINY\"\r\n\t\t\t\tset MournWeather to 5\r\n\t\t\t\tset crankReset to 0\r\n\t\t\telseif ( crankC == 1 )\r\n\t\t\t\tModRegion \"Mournhold Region\" 0 0 0 100 0 0 0 0\r\n\t\t\t\tChangeWeather \"Mournhold Region\" 3\r\n\t\t\t\tset angle to 60\r\n\t\t\t\t;;MessageBox \"WEATHER SHOULD NOW BE OVERCAST\"\r\n\t\t\t\tset MournWeather to 4\r\n\t\t\t\tset crankReset to 0\r\n\t\t\tendif\r\n\t\tendif\r\n\tendif\r\n\r\n\t;determine which direction to rotate in\r\n\tif ( angle > 279 )\r\n\t\tif ( startangle < 81 )\r\n\t\t\tset move to -1\r\n\t\telse\r\n\t\t\tif ( startangle < angle )\r\n\t\t\t\tset move to 1\r\n\t\t\telse\r\n\t\t\t\tset move to -1\r\n\t\t\tendif\r\n\t\tendif\r\n\telse\r\n\t\tif ( startangle > 279 )\r\n\t\t\tset move to 1\r\n\t\telse\r\n\t\t\tif ( startangle < angle )\r\n\t\t\t\tset move to 1\r\n\t\t\telse\r\n\t\t\t\tset move to -1\r\n\t\t\tendif\r\n\t\tendif\r\n\tendif\r\nendif\t\t;crankreset check\r\n\r\n\r\n;************************************************************************\r\n;\r\n;\t\t\tthe weather sign object (BIG) always moves towards the angle it needs\r\n;\r\n;************************************************************************\r\n\r\nif ( move == 0 )\t\t\t;if not moving, don't run the rest of the code\r\n\treturn\r\nendif\r\n\r\nset curangle to ( GetSecondsPassed * 7 )\r\nset curangle to ( curangle * move )\r\nset curangle to ( GetAngle Z + curangle )\r\n\r\nif ( curangle >= 360 )\r\n\tset curangle to curangle - 360\r\nelseif ( curangle < 0 )\r\n\tset curangle to curangle + 360\r\nendif\r\n\r\n;clamp at target and stop movement\r\nset clamp to 0\r\nif ( angle == 0 )\r\n\tif ( move < 0 )\r\n\t\tif ( curangle > 350 )\r\n\t\t\tset clamp to 1\r\n\t\tendif\r\n\telse\r\n\t\tif ( curangle < 10 )\r\n\t\t\tset clamp to 1\r\n\t\tendif\r\n\tendif\t\t\r\nelse\r\n\tif ( curangle  > angle )\r\n\t\tset startangle to ( curangle - angle )\r\n\telse\r\n\t\tset startangle to ( angle - curangle )\r\n\tendif\r\n\t;make sure current and target on same side of 0\r\n\tif ( startangle < 10 )\r\n\t\tif ( move < 0 )\r\n\t\t\tif ( curangle < angle )\r\n\t\t\t\tset clamp to 1\r\n\t\t\tendif\r\n\t\telse\r\n\t\t\tif ( curangle > angle )\r\n\t\t\t\tset clamp to 1\r\n\t\t\tendif\r\n\t\tendif\r\n\tendif\r\nendif\r\n\r\nif ( clamp == 1 )\r\n\tSetAngle Z angle\r\n\tset move to 0\r\n\tPlaySound \"dwemer door close\"\r\nelse\r\n\tSetAngle Z curangle\r\nendif\r\n\r\n\r\nEnd tr_weathmachine\r\n\r\n",
  "SCVR": [
    "initialized",
    "crankReset",
    "crankA",
    "crankB",
    "crankC",
    "move",
    "clamp",
    "startangle",
    "angle",
    "curangle"
  ],
  "SCDT": [6,1,3,9,32,115,1,0,32,61,61,32,48,5,1,102,1,0,4,32,50,56,48,5,1,102,2,0,5,32,102,1,0,0,5,1,115,1,0,2,32,49,9,1,6,1,1,9,32,88,32,16,32,61,61,32,49,36,1,9,1,5,1,115,3,0,22,32,114,15,97,99,116,95,100,119,101,95,108,101,118,101,114,95,97,115,1,0,0,5,1,115,4,0,22,32,114,15,97,99,116,95,100,119,101,95,108,101,118,101,114,95,98,115,1,0,0,5,1,115,5,0,22,32,114,15,97,99,116,95,100,119,101,95,108,101,118,101,114,95,99,115,1,0,0,6,1,85,9,32,115,2,0,32,61,61,32,49,2,16,8,116,104,117,110,100,101,114,48,5,1,102,1,0,6,32,88,12,16,90,0,6,1,29,9,32,115,3,0,32,61,61,32,48,6,1,13,9,32,115,4,0,32,61,61,32,48,6,1,5,9,32,115,5,0,32,61,61,32,48,37,17,16,77,111,117,114,110,104,111,108,100,32,82,101,103,105,111,110,15,30,15,20,10,10,0,0,0,0,36,17,16,77,111,117,114,110,104,111,108,100,32,82,101,103,105,111,110,1,0,5,1,102,2,0,4,32,50,56,48,5,1,71,12,77,111,117,114,110,87,101,97,116,104,101,114,2,32,48,5,1,115,2,0,2,32,48,8,1,5,9,32,115,5,0,32,61,61,32,49,37,17,16,77,111,117,114,110,104,111,108,100,32,82,101,103,105,111,110,100,0,0,0,0,0,0,0,0,0,36,17,16,77,111,117,114,110,104,111,108,100,32,82,101,103,105,111,110,0,0,5,1,102,2,0,3,32,56,48,5,1,71,12,77,111,117,114,110,87,101,97,116,104,101,114,2,32,49,5,1,115,2,0,2,32,48,9,1,8,1,13,9,32,115,4,0,32,61,61,32,49,6,1,5,9,32,115,5,0,32,61,61,32,48,37,17,16,77,111,117,114,110,104,111,108,100,32,82,101,103,105,111,110,0,0,0,0,0,100,0,0,0,0,36,17,16,77,111,117,114,110,104,111,108,100,32,82,101,103,105,111,110,5,0,5,1,102,2,0,4,32,51,48,48,5,1,71,12,77,111,117,114,110,87,101,97,116,104,101,114,2,32,54,5,1,115,2,0,2,32,48,8,1,5,9,32,115,5,0,32,61,61,32,49,37,17,16,77,111,117,114,110,104,111,108,100,32,82,101,103,105,111,110,0,100,0,0,0,0,0,0,0,0,36,17,16,77,111,117,114,110,104,111,108,100,32,82,101,103,105,111,110,1,0,5,1,102,2,0,4,32,51,50,48,5,1,71,12,77,111,117,114,110,87,101,97,116,104,101,114,2,32,50,5,1,115,2,0,2,32,48,9,1,9,1,8,1,30,9,32,115,3,0,32,61,61,32,49,6,1,14,9,32,115,4,0,32,61,61,32,48,6,1,6,9,32,115,5,0,32,61,61,32,48,37,17,16,77,111,117,114,110,104,111,108,100,32,82,101,103,105,111,110,0,0,0,0,0,0,100,0,0,0,36,17,16,77,111,117,114,110,104,111,108,100,32,82,101,103,105,111,110,6,0,5,1,71,12,77,111,117,114,110,87,101,97,116,104,101,114,2,32,55,204,16,12,84,82,95,83,104,111,119,80,111,119,101,114,95,0,255,255,5,1,102,2,0,2,32,48,5,1,115,2,0,2,32,48,8,1,5,9,32,115,5,0,32,61,61,32,49,37,17,16,77,111,117,114,110,104,111,108,100,32,82,101,103,105,111,110,0,0,100,0,0,0,0,0,0,0,36,17,16,77,111,117,114,110,104,111,108,100,32,82,101,103,105,111,110,2,0,5,1,102,2,0,3,32,50,48,5,1,71,12,77,111,117,114,110,87,101,97,116,104,101,114,2,32,51,5,1,115,2,0,2,32,48,9,1,8,1,13,9,32,115,4,0,32,61,61,32,49,6,1,5,9,32,115,5,0,32,61,61,32,48,37,17,16,77,111,117,114,110,104,111,108,100,32,82,101,103,105,111,110,0,0,0,0,100,0,0,0,0,0,36,17,16,77,111,117,114,110,104,111,108,100,32,82,101,103,105,111,110,4,0,5,1,102,2,0,3,32,52,48,5,1,71,12,77,111,117,114,110,87,101,97,116,104,101,114,2,32,53,5,1,115,2,0,2,32,48,8,1,5,9,32,115,5,0,32,61,61,32,49,37,17,16,77,111,117,114,110,104,111,108,100,32,82,101,103,105,111,110,0,0,0,100,0,0,0,0,0,0,36,17,16,77,111,117,114,110,104,111,108,100,32,82,101,103,105,111,110,3,0,5,1,102,2,0,3,32,54,48,5,1,71,12,77,111,117,114,110,87,101,97,116,104,101,114,2,32,52,5,1,115,2,0,2,32,48,9,1,9,1,9,1,6,1,9,10,32,102,2,0,32,62,32,50,55,57,6,1,1,9,32,102,1,0,32,60,32,56,49,5,1,115,6,0,7,32,45,49,32,49,32,42,7,1,5,6,1,1,11,32,102,1,0,32,60,32,102,2,0,0,5,1,115,6,0,2,32,49,7,1,1,5,1,115,6,0,7,32,45,49,32,49,32,42,9,1,9,1,7,1,9,6,1,1,10,32,102,1,0,32,62,32,50,55,57,5,1,115,6,0,2,32,49,7,1,5,6,1,1,11,32,102,1,0,32,60,32,102,2,0,0,5,1,115,6,0,2,32,49,7,1,1,5,1,115,6,0,7,32,45,49,32,49,32,42,9,1,9,1,9,1,9,1,6,1,1,9,32,115,6,0,32,61,61,32,48,36,1,9,1,5,1,102,3,0,8,32,88,18,16,32,55,32,42,5,1,102,3,0,10,32,102,3,0,32,115,6,0,32,42,5,1,102,3,0,11,32,88,12,16,90,32,102,3,0,32,43,6,1,1,11,32,102,3,0,32,62,61,32,51,54,48,5,1,102,3,0,10,32,102,3,0,32,51,54,48,32,45,8,1,1,8,32,102,3,0,32,60,32,48,5,1,102,3,0,10,32,102,3,0,32,51,54,48,32,43,9,1,5,1,115,7,0,2,32,48,6,1,9,9,32,102,2,0,32,61,61,32,48,6,1,3,8,32,115,6,0,32,60,32,48,6,1,1,10,32,102,3,0,32,62,32,51,53,48,5,1,115,7,0,2,32,49,9,1,7,1,3,6,1,1,9,32,102,3,0,32,60,32,49,48,5,1,115,7,0,2,32,49,9,1,9,1,7,1,16,6,1,1,11,32,102,3,0,32,62,32,102,2,0,0,5,1,102,1,0,10,32,102,3,0,32,102,2,0,32,45,7,1,1,5,1,102,1,0,10,32,102,2,0,32,102,3,0,32,45,9,1,6,1,9,9,32,102,1,0,32,60,32,49,48,6,1,3,8,32,115,6,0,32,60,32,48,6,1,1,11,32,102,3,0,32,60,32,102,2,0,0,5,1,115,7,0,2,32,49,9,1,7,1,3,6,1,1,11,32,102,3,0,32,62,32,102,2,0,0,5,1,115,7,0,2,32,49,9,1,9,1,9,1,9,1,6,1,3,9,32,115,7,0,32,61,61,32,49,13,16,90,102,2,0,0,5,1,115,6,0,2,32,48,2,16,17,100,119,101,109,101,114,32,100,111,111,114,32,99,108,111,115,101,7,1,1,13,16,90,102,3,0,0,9,1,1,1]
}