{
  "deleted": false,
  "SCHD": {
    "num_shorts": 5,
    "num_longs": 0,
    "num_floats": 0,
    "script_data_size": 1208,
    "local_var_size": 48
  },
  "SCTX": "begin LorkhanHeart\r\n\r\nshort sunderHit\r\n;were hit by Sunder THIS FRAME\r\nshort keeningHit\r\n;were hit by Keening THIS FRAME\r\nshort countHits\r\n;number of times you hit with Keening\r\nshort countSays\r\n;make sure you don't Say over and over\r\nshort doOnce\r\n;teleport Dagoth Ur once\r\n\r\n\r\nif ( menumode == 1 )\r\n\treturn\r\nendif\r\n\r\nif ( HeartDestroyed == 1 )\r\n\tif ( doOnce == 2 )\r\n\t\treturn\r\n\tendif\r\n\r\n\tif ( CellChanged == 1 )\r\n\t\tDisable\r\n\t\tSet doOnce to 2\r\n\tendif\r\n\r\n\tif ( CellChanged == 0 )\r\n\t\tif ( GetSoundPlaying \"endrumble\" == 0 )\r\n\t\t\t;play rumbling sound after heart is dead, until player leaves\r\n\t\t\tPlayLoopSound3D \"endrumble\"\r\n\t\tendif\r\n\tendif\r\n\tif ( GetSoundPlaying \"heart\" == 1 )\r\n\t\tStopSound \"heart\"\r\n\tendif\r\n\tif ( GetSoundPlaying \"heartSunder\" == 1 )\r\n\t\tStopSound \"heartSunder\"\r\n\tendif\r\n\r\n\treturn\r\nendif\r\n\r\nif ( sunderHit == 0 )\r\n\t;test if you hit with Sunder until you hit with Sunder\r\n\tSet sunderHit to HitOnMe Sunder\r\nendif\r\n\r\n;test if you hit with Keening every frame, also make heart immortal\r\nSet keeningHit to HitOnMe Keening\r\nSetHealth 5000\r\n\r\nif ( doOnce == 0 )\r\n\tif ( GetDistance Player < 500 )\r\n\t\t\"dagoth_ur_2\"->PositionCell -40 2590 -180 320 \"Akulakhan's Chamber\"\r\n\t\t\"dagoth_ur_2\"->StartCombat Player\r\n\tSet doOnce to 1\r\n\tendif\r\nendif\r\n\t\r\nif ( sunderHit == 1 )\r\n\t;play correct sounds before & after sunder\r\n\t;return if you've never hit with Sunder\r\n\tif ( HeartDestroyed == 0 )\r\n\t\tif ( CellChanged == 0 )\r\n\t\t\tif ( GetSoundPlaying \"heartSunder\" == 0 )\r\n\t\t\t\tPlayLoopSound3D \"heartsunder\"\r\n\t\t\tendif\r\n\t\tendif\r\n\tendif\r\nelse\r\n\tif ( CellChanged == 0 )\r\n\t\tif ( GetSoundPlaying \"heart\" == 0 )\r\n\t\t\tPlayLoopSound3D, \"heart\"\r\n\t\tendif\r\n\tendif\r\n\treturn\r\nendif\r\n\r\nif ( keeningHit == 0 )\r\n\t;only process rest of script when hit with keening\r\n\treturn\r\nendif\r\n\r\n;if player hit with Keening THIS FRAME, do all this stuff...\r\n\r\nSet countHits to ( countHits + 1 )\r\n\r\nif ( countHits == 0 )\r\n\tif ( countSays != 0 )\r\n\t\tSet countSays to 0\r\n\tendif\r\n\treturn\r\nendif\r\n\r\nif ( countHits == 1 )\r\n\tif ( countSays == 0 )\r\n\t\tSay \"vo\\misc\\Hit Heart 1.wav\" \"What are you doing?\"\r\n\t\t\"dagoth_ur_2\"->SetFight 100\r\n\t\t\"dagoth_ur_2\"->StartCombat Player\r\n\t\tSet countSays to 1\r\n\tendif\r\n\tPlayGroup Idle2\r\nendif\r\n\r\nif ( countHits == 2 )\r\n\tif ( countSays == 1 )\r\n\t\tSay \"vo\\misc\\Hit Heart 2.wav\" \"WHAT ARE YOU DOING?!\"\r\n\t\tSet countSays to 2\r\n\tendif\r\n\tPlayGroup Idle3\r\nendif\r\n\r\nif ( countHits == 3 )\r\n\tif ( countSays == 2 )\r\n\t\tSay \"vo\\misc\\Hit Heart 3.wav\" \"FOOL!\"\r\n\t\tSet countSays to 3\r\n\tendif\r\n\tPlayGroup Idle4\r\nendif\r\n\r\nif ( countHits == 4 )\r\n\tif ( countSays == 3 )\r\n\t\tSay \"vo\\misc\\Hit Heart 4.wav\" \"STOP!\"\r\n\t\tSet countSays to 4\r\n\tendif\r\n\tPlayGroup Idle5\r\nendif\r\n\r\nif ( countHits > 4 )\r\n\tif ( countSays == 4 )\r\n\t\tSay \"vo\\misc\\Hit Heart 6.wav\" \"This is the end. The bitter, bitter end.\"\r\n\t\tSet countSays to 5\r\n\tendif\r\n\tif ( GetSoundPlaying \"heart\" == 1 )\r\n\t\tStopSound \"heart\"\r\n\tendif\r\n\tif ( GetSoundPlaying \"heartSunder\" == 1 )\r\n\t\tStopSound \"heartSunder\"\r\n\tendif\r\n\tPlayGroup Death1\r\n\tset HeartDestroyed to 1\r\nendif\r\n\r\nEnd\r\n",
  "SCVR": [
    "sunderHit",
    "keeningHit",
    "countHits",
    "countSays",
    "doOnce"
  ],
  "SCDT": [6,1,1,9,32,88,32,16,32,61,61,32,49,36,1,9,1,6,1,19,22,32,71,14,72,101,97,114,116,68,101,115,116,114,111,121,101,100,32,61,61,32,49,6,1,1,9,32,115,5,0,32,61,61,32,50,36,1,9,1,6,1,2,9,32,88,31,16,32,61,61,32,49,219,16,5,1,115,5,0,2,32,50,9,1,6,1,3,9,32,88,31,16,32,61,61,32,48,6,1,1,21,32,88,136,17,32,98,9,101,110,100,114,117,109,98,108,101,32,61,61,32,48,46,17,9,101,110,100,114,117,109,98,108,101,9,1,9,1,6,1,1,17,32,88,136,17,32,98,5,104,101,97,114,116,32,61,61,32,49,81,17,5,104,101,97,114,116,9,1,6,1,1,23,32,88,136,17,32,98,11,104,101,97,114,116,83,117,110,100,101,114,32,61,61,32,49,81,17,11,104,101,97,114,116,83,117,110,100,101,114,9,1,36,1,9,1,6,1,1,9,32,115,1,0,32,61,61,32,48,5,1,115,1,0,14,32,88,21,17,32,111,6,83,117,110,100,101,114,0,9,1,5,1,115,2,0,15,32,88,21,17,32,111,7,75,101,101,110,105,110,103,0,141,16,0,64,156,69,6,1,5,9,32,115,5,0,32,61,61,32,48,6,1,3,19,32,88,1,16,32,114,6,80,108,97,121,101,114,32,60,32,53,48,48,12,1,11,100,97,103,111,116,104,95,117,114,95,50,5,16,0,0,32,194,0,224,33,69,0,0,52,195,0,0,160,67,19,65,107,117,108,97,107,104,97,110,39,115,32,67,104,97,109,98,101,114,12,1,11,100,97,103,111,116,104,95,117,114,95,50,25,16,6,80,108,97,121,101,114,5,1,115,5,0,2,32,49,9,1,9,1,6,1,7,9,32,115,1,0,32,61,61,32,49,6,1,5,22,32,71,14,72,101,97,114,116,68,101,115,116,114,111,121,101,100,32,61,61,32,48,6,1,3,9,32,88,31,16,32,61,61,32,48,6,1,1,23,32,88,136,17,32,98,11,104,101,97,114,116,83,117,110,100,101,114,32,61,61,32,48,46,17,11,104,101,97,114,116,115,117,110,100,101,114,9,1,9,1,9,1,7,1,6,6,1,3,9,32,88,31,16,32,61,61,32,48,6,1,1,17,32,88,136,17,32,98,5,104,101,97,114,116,32,61,61,32,48,46,17,5,104,101,97,114,116,9,1,9,1,36,1,9,1,6,1,1,9,32,115,2,0,32,61,61,32,48,36,1,9,1,5,1,115,3,0,8,32,115,3,0,32,49,32,43,6,1,4,9,32,115,3,0,32,61,61,32,48,6,1,1,9,32,115,4,0,32,33,61,32,48,5,1,115,4,0,2,32,48,9,1,36,1,9,1,6,1,7,9,32,115,3,0,32,61,61,32,49,6,1,4,9,32,115,4,0,32,61,61,32,48,27,17,23,118,111,92,109,105,115,99,92,72,105,116,32,72,101,97,114,116,32,49,46,119,97,118,19,0,87,104,97,116,32,97,114,101,32,121,111,117,32,100,111,105,110,103,63,12,1,11,100,97,103,111,116,104,95,117,114,95,50,0,17,0,0,200,66,12,1,11,100,97,103,111,116,104,95,117,114,95,50,25,16,6,80,108,97,121,101,114,5,1,115,4,0,2,32,49,9,1,20,16,1,0,0,9,1,6,1,5,9,32,115,3,0,32,61,61,32,50,6,1,2,9,32,115,4,0,32,61,61,32,49,27,17,23,118,111,92,109,105,115,99,92,72,105,116,32,72,101,97,114,116,32,50,46,119,97,118,20,0,87,72,65,84,32,65,82,69,32,89,79,85,32,68,79,73,78,71,63,33,5,1,115,4,0,2,32,50,9,1,20,16,2,0,0,9,1,6,1,5,9,32,115,3,0,32,61,61,32,51,6,1,2,9,32,115,4,0,32,61,61,32,50,27,17,23,118,111,92,109,105,115,99,92,72,105,116,32,72,101,97,114,116,32,51,46,119,97,118,5,0,70,79,79,76,33,5,1,115,4,0,2,32,51,9,1,20,16,3,0,0,9,1,6,1,5,9,32,115,3,0,32,61,61,32,52,6,1,2,9,32,115,4,0,32,61,61,32,51,27,17,23,118,111,92,109,105,115,99,92,72,105,116,32,72,101,97,114,116,32,52,46,119,97,118,5,0,83,84,79,80,33,5,1,115,4,0,2,32,52,9,1,20,16,4,0,0,9,1,6,1,12,8,32,115,3,0,32,62,32,52,6,1,2,9,32,115,4,0,32,61,61,32,52,27,17,23,118,111,92,109,105,115,99,92,72,105,116,32,72,101,97,114,116,32,54,46,119,97,118,40,0,84,104,105,115,32,105,115,32,116,104,101,32,101,110,100,46,32,84,104,101,32,98,105,116,116,101,114,44,32,98,105,116,116,101,114,32,101,110,100,46,5,1,115,4,0,2,32,53,9,1,6,1,1,17,32,88,136,17,32,98,5,104,101,97,114,116,32,61,61,32,49,81,17,5,104,101,97,114,116,9,1,6,1,1,23,32,88,136,17,32,98,11,104,101,97,114,116,83,117,110,100,101,114,32,61,61,32,49,81,17,11,104,101,97,114,116,83,117,110,100,101,114,9,1,20,16,27,0,0,5,1,71,14,72,101,97,114,116,68,101,115,116,114,111,121,101,100,2,32,49,9,1,1,1]
}