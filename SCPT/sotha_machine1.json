{
  "deleted": false,
  "SCHD": {
    "num_shorts": 4,
    "num_longs": 0,
    "num_floats": 2,
    "script_data_size": 994,
    "local_var_size": 36
  },
  "SCTX": "begin sotha_machine1\r\n\r\n;controls act_sotha_monster1\r\n;this is the main script for the fabricant machine\r\n;it decides if fabricants are made and plays the anims for everything, opens the doors, etc\r\n\r\n;sotha_machine2 script controls the second lever and the second door only\r\n\r\nshort state\t\t;the state of the lever, 0 down, 1 up\r\nshort move\t\t;tells the lever and door to move\r\nfloat timer\t\t;for timing the creature making and such\r\nshort make\t\t;true when making creature and controlling door #1\r\nfloat timer2\t\t;for timing player getting stuck in machine\r\nshort inside\t\t;for making sure player isn't inside\r\n\r\n;******************************************\r\n;  turn lever and open the door\r\n;\r\n;******************************************\r\n\r\nif ( OnActivate == 1 )\r\n\r\n\t;can only move this lever if the second other door is shut and no creature is being made\r\n\t;otherwise, play sound\r\n\r\n\tif (  \"act_sotha_mach_door2\".state == 0 )\r\n\t\tif ( make == 0 )\r\n\t\t\tset move to 1\r\n\t\tendif\r\n\telse\r\n\t\tplaysound \"LockedDoor\"\r\n\tendif\r\n\r\nendif\r\n\r\nif  ( move == 1 )\r\n\t\r\n\t;animate the lever\r\n\tif ( state == 0 )\r\n\t\t\tplaygroup \"idle2\"\r\n\t\t\tset state to 1\r\n\telse\r\n\t\t\tplaygroup \"idle3\"\r\n\t\t\tset state to 0\r\n\tendif\r\n\r\n\t;animate the door\r\n\tif (  \"act_sotha_mach_door1\".state == 0 )\r\n\r\n\t\t\t;push anims on to open\r\n\t\t\t\"act_sotha_mach_door1\"->playgroup \"idle2\"\r\n\t\t\tset  \"act_sotha_mach_door1\".state to 1\r\n\r\n\telse\t\r\n\t\t\t;push anims on to close\r\n\t\t\t\"act_sotha_mach_door1\"->playgroup \"idle3\"\r\n\t\t\tset  \"act_sotha_mach_door1\".state to 0\r\n\r\n\tendif\r\n\r\n\tset move to 0\r\n\r\nendif\r\n\r\n\r\n;******************************************\r\n;  make creatures, open door, etc\r\n;\r\n;******************************************\r\n\r\n;check status of doors and the state of making fabs\r\n\r\nif ( make == 0 )\r\n\tif (  \"act_sotha_mach_door1\".state == 0 )\r\n\t\tif (  \"act_sotha_mach_door2\".state == 0 )\t\r\n\t\t\tif ( timer > 15 )\t\t;only makes them every 10 seconds\r\n\t\t\t\tset make to 10\t\r\n\t\t\t\tset timer to 0\t\r\n\t\t\telse\r\n\t\t\t\tset timer to ( timer + GetSecondsPassed )\r\n\t\t\tendif\r\n\t\tendif\r\n\tendif\r\nendif\r\n\r\nif ( make >= 10 )\r\n\r\n\t;play the anim and sound\r\n\tif ( make == 10 )\r\n\t\tplaysound \"SothaFabMachine\"\r\n\t\t\"act_sotha_powertubes\"->loopgroup idle2 6\r\n\t\tset make to 20\r\n\tendif\r\n\r\n\t;open door for creature after 5 secs\r\n\tif ( make == 20 )\r\n\t\tif ( timer > 3 )\t\t;door opens in 3 seconds and creature is made, it is in these 3 seconds you can open other door\r\n\r\n\t\t\tPlaceItemCell, \"fabricant_machine_1\", \"Sotha Sil, Dome of Serlyn\" 4364, 5091, 12541, 190\r\n\t\t\t\"act_sotha_mach_door1\"->playgroup \"idle2\"\r\n\t\t\tset  \"act_sotha_mach_door1\".state to 1\r\n\t\t\t\"act_sotha_powertubes\"->playgroup idle\r\n\t\t\tset make to 30\t\r\n\t\t\tset timer to 0\t\r\n\r\n\t\telse\r\n\t\t\tset timer to ( timer + GetSecondsPassed )\r\n\t\tendif\r\n\r\n\tendif\r\n\r\n\t;close the door behind the creature and reset\r\n\tif ( make == 30 )\r\n\t\tif ( timer > 7 )\t\t;door closes in 7 seconds\r\n\r\n\t\t\t;push anims on to close\r\n\t\t\tif ( act_sotha_collide->GetStandingPC == 1 )\r\n\t\t\t\tset timer2 to 0\r\n\t\t\t\tset inside to 1\r\n\t\t\t\treturn\r\n\t\t\telse\r\n\t\t\t\tset timer2 to ( timer2 + GetSecondsPassed )\r\n\t\t\t\tif ( timer2 < 5 )\r\n\t\t\t\t\treturn\r\n\t\t\t\tendif\r\n\t\t\t\tset inside to 0\r\n\t\t\t\tif ( inside == 0 )\r\n\t\t\t\t\t\"act_sotha_mach_door1\"->playgroup \"idle3\"\r\n\t\t\t\t\tset  \"act_sotha_mach_door1\".state to 0\r\n\t\t\t\t\tset make to 0\t\t;can now make again\r\n\t\t\t\t\tset timer to 0\t\r\n\t\t\t\tendif\r\n\t\t\tendif\r\n\t\telse\r\n\t\t\tset timer to ( timer + GetSecondsPassed )\r\n\t\tendif\r\n\r\n\tendif\r\n\r\nendif\r\n\r\nend",
  "SCVR": [
    "state",
    "move",
    "make",
    "inside",
    "timer",
    "timer2"
  ],
  "SCDT": [6,1,7,9,32,88,24,16,32,61,61,32,49,6,1,3,31,32,114,20,97,99,116,95,115,111,116,104,97,95,109,97,99,104,95,100,111,111,114,50,115,1,0,32,61,61,32,48,6,1,1,9,32,115,3,0,32,61,61,32,48,5,1,115,2,0,2,32,49,9,1,7,1,1,2,16,10,76,111,99,107,101,100,68,111,111,114,9,1,9,1,6,1,15,9,32,115,2,0,32,61,61,32,49,6,1,2,9,32,115,1,0,32,61,61,32,48,20,16,1,0,0,5,1,115,1,0,2,32,49,7,1,2,20,16,2,0,0,5,1,115,1,0,2,32,48,9,1,6,1,2,31,32,114,20,97,99,116,95,115,111,116,104,97,95,109,97,99,104,95,100,111,111,114,49,115,1,0,32,61,61,32,48,12,1,20,97,99,116,95,115,111,116,104,97,95,109,97,99,104,95,100,111,111,114,49,20,16,1,0,0,5,1,114,20,97,99,116,95,115,111,116,104,97,95,109,97,99,104,95,100,111,111,114,49,115,1,0,2,32,49,7,1,2,12,1,20,97,99,116,95,115,111,116,104,97,95,109,97,99,104,95,100,111,111,114,49,20,16,2,0,0,5,1,114,20,97,99,116,95,115,111,116,104,97,95,109,97,99,104,95,100,111,111,114,49,115,1,0,2,32,48,9,1,5,1,115,2,0,2,32,48,9,1,6,1,10,9,32,115,3,0,32,61,61,32,48,6,1,8,31,32,114,20,97,99,116,95,115,111,116,104,97,95,109,97,99,104,95,100,111,111,114,49,115,1,0,32,61,61,32,48,6,1,6,31,32,114,20,97,99,116,95,115,111,116,104,97,95,109,97,99,104,95,100,111,111,114,50,115,1,0,32,61,61,32,48,6,1,2,9,32,102,1,0,32,62,32,49,53,5,1,115,3,0,3,32,49,48,5,1,102,1,0,2,32,48,7,1,1,5,1,102,1,0,10,32,102,1,0,32,88,18,16,32,43,9,1,9,1,9,1,9,1,6,1,40,10,32,115,3,0,32,62,61,32,49,48,6,1,3,10,32,115,3,0,32,61,61,32,49,48,2,16,15,83,111,116,104,97,70,97,98,77,97,99,104,105,110,101,12,1,20,97,99,116,95,115,111,116,104,97,95,112,111,119,101,114,116,117,98,101,115,21,16,1,0,6,0,5,1,115,3,0,3,32,50,48,9,1,6,1,10,10,32,115,3,0,32,61,61,32,50,48,6,1,6,8,32,102,1,0,32,62,32,51,150,17,19,102,97,98,114,105,99,97,110,116,95,109,97,99,104,105,110,101,95,49,25,83,111,116,104,97,32,83,105,108,44,32,68,111,109,101,32,111,102,32,83,101,114,108,121,110,0,96,136,69,0,24,159,69,0,244,67,70,0,0,62,67,12,1,20,97,99,116,95,115,111,116,104,97,95,109,97,99,104,95,100,111,111,114,49,20,16,1,0,0,5,1,114,20,97,99,116,95,115,111,116,104,97,95,109,97,99,104,95,100,111,111,114,49,115,1,0,2,32,49,12,1,20,97,99,116,95,115,111,116,104,97,95,112,111,119,101,114,116,117,98,101,115,20,16,0,0,0,5,1,115,3,0,3,32,51,48,5,1,102,1,0,2,32,48,7,1,1,5,1,102,1,0,10,32,102,1,0,32,88,18,16,32,43,9,1,9,1,6,1,21,10,32,115,3,0,32,61,61,32,51,48,6,1,17,8,32,102,1,0,32,62,32,55,12,1,17,97,99,116,95,115,111,116,104,97,95,99,111,108,108,105,100,101,6,1,3,9,32,88,19,17,32,61,61,32,49,5,1,102,2,0,2,32,48,5,1,115,4,0,2,32,49,36,1,7,1,11,5,1,102,2,0,10,32,102,2,0,32,88,18,16,32,43,6,1,1,8,32,102,2,0,32,60,32,53,36,1,9,1,5,1,115,4,0,2,32,48,6,1,4,9,32,115,4,0,32,61,61,32,48,12,1,20,97,99,116,95,115,111,116,104,97,95,109,97,99,104,95,100,111,111,114,49,20,16,2,0,0,5,1,114,20,97,99,116,95,115,111,116,104,97,95,109,97,99,104,95,100,111,111,114,49,115,1,0,2,32,48,5,1,115,3,0,2,32,48,5,1,102,1,0,2,32,48,9,1,9,1,7,1,1,5,1,102,1,0,10,32,102,1,0,32,88,18,16,32,43,9,1,9,1,9,1,1,1]
}